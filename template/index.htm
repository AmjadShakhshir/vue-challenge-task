<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link href="https://fonts.googleapis.com/css?family=Roboto:400,500,700&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="main.css">
		<style>
			* {
				font-family: 'Roboto';
			}
		</style>
		<title>
			Restaurant Manager
		</title>
	</head>
	<body>
		<div id="app">
			{ message }
		</div>
		<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
		<script>
			Vue.component('x-table', {
            props: ['cell'],
            template: `
                <div :class="{'cell-item': !cell.occupied, 'occupied': cell.occupied}">
                    <p v-if="cell.occupied">Occupied By {{cell.numberOfOccupants}}</p>
                    <p v-if="cell.occupied">(free in {{cell.timeDifference}})</p>
                    <p v-else>Table Available</p>
                    <p v-if="!cell.occupied">(Capacity: {{ cell.capacity }})</p>
                    <button
                        class="btn"
                        v-if="cell.occupied" 
                        @click="cell.occupied = false"
                    >Evict</button>
                </div>
				`
			});

			Vue.component('x-restaurant', {
            props: ['cells'],
            methods: {
                getClassName(cell) {
                    return `cell-row-${Math.ceil(cell.id / 4)}`;
                }
            },
            template: `
                <div id="x-resturant">
                    <h1>Restaurant Manager</h1>
                    <h3>Tables Overview</h3>
                    <div class="table">
                        <div v-for="cell in cells" :class="getClassName(cell)">
                            <x-table :cell="cell"></x-table>
                        </div>
                    </div>
                </div>
				`
			});
			
			const app = new Vue({
				el: '#app',
				data: {
					message: 'Hello Vue!'
				},
				delimiters: ['{', '}'],
			});
		</script>
	</body>
</html>